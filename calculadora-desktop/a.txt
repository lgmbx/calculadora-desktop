using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace calculadora_desktop {
    class Class1 {

        private void add_Click(object btn, EventArgs e) {
            operation = "+";



            //operation button after equal
            if (equalCalculationCount == true) {
                equalCalculationCount = false;
                firstNum = double.Parse(display.Text);
                secondNum = 0;
                result = 0;
                display.Clear();
                label2.Text = firstNum.ToString() + operation;
                calc(operation);
            }




            //First operation click button
            if (display.Text != "" && operationCount == false) {
                string text = display.Text;
                double numberFromText = double.Parse(text);
                firstNum = numberFromText;
                display.Clear();
                label2.Text = (text + operation);
                dotCount = 0;
                operationCount = true;
            }
            //second operation button without equal
            if (operation != "") {
                calc(operation);
            }

        }

        private void sub_Click(object sender, EventArgs e) {

            operation = "-";

            //operation button after equal
            if (operation != "" && equalCalculationCount == true) {
                equalCalculationCount = false;
                firstNum = double.Parse(display.Text);
                secondNum = 0;
                result = 0;
                display.Clear();
                label2.Text = firstNum.ToString() + operation;
                calc("-");
            }

            //second operation button without equal
            else if (operation != "") {
                calc("-");
            }


            //First operation click button
            if (display.Text != "") {
                string text = display.Text;
                double numberFromText = double.Parse(text);
                firstNum = numberFromText;
                display.Clear();
                label2.Text = (text + "-");
                operation = "-";
                dotCount = 0;
            }

        }


        private void equal_Click(object sender, EventArgs e) {

            calc(operation);


        }

        private void calc(string op) {

            if (display.Text != "") {
                switch (op) {
                    case "+":

                        if (equalCalculationCount == true) {

                            label2.Text = result.ToString() + op + secondNum.ToString();
                            result = result + secondNum;
                            display.Text = (result).ToString();
                        }
                        else {
                            secondNum = double.Parse(display.Text);
                            result = firstNum + secondNum;

                            display.Text = (firstNum + secondNum).ToString();
                            label2.Text += secondNum.ToString();
                            equalCalculationCount = true;
                        }

                        break;

                    case "-":

                        if (equalCalculationCount == true) {

                            label2.Text = result.ToString() + op + secondNum.ToString();
                            result = result - secondNum;
                            display.Text = (result).ToString();
                        }
                        else {
                            secondNum = double.Parse(display.Text);
                            result = firstNum - secondNum;

                            display.Text = (firstNum - secondNum).ToString();
                            label2.Text += secondNum.ToString();
                            equalCalculationCount = true;
                        }

                        break;

                }
            }



        }
    }
}
